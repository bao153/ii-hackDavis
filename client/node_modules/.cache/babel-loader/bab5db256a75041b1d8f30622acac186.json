{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import classes from'./LoginModal.module.css';import TextField from'@material-ui/core/TextField';import Button from'../../shared/Button/Button';import{signIn}from'../../../services/UserService';var LoginModal=/*#__PURE__*/function(_Component){_inherits(LoginModal,_Component);function LoginModal(props){var _this;_classCallCheck(this,LoginModal);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginModal).call(this));_this.openModal=function(){_this.setState({open:true});};_this.closeModal=function(){_this.setState({open:false});};_this.changeInput=function(e){e.preventDefault();_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.submitForm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_this.state.email){alert(\"Please fill out your email.\");}else if(!_this.state.password){alert(\"Please fill out your password.\");}else{data={email:_this.state.email,password:_this.state.password};console.log(data);signIn(data).then(function(data){_this.props.processLogin(data.userKind);}).catch(function(e){console.log(e);alert('You cannot be logged in at this time.');});}case 1:case\"end\":return _context.stop();}}},_callee);}));_this.state={open:props.open,email:'',password:''};_this.closeModal=_this.closeModal.bind(_assertThisInitialized(_this));_this.changeInput=_this.changeInput.bind(_assertThisInitialized(_this));_this.submitForm=_this.submitForm.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginModal,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.open!==prevProps.open){this.setState({open:this.props.open});}}},{key:\"render\",value:function render(){return React.createElement(Modal,{className:classes.Modal,open:this.state.open,onClose:this.closeModal,BackdropComponent:Backdrop,BackdropProps:{timeout:200}},React.createElement(Fade,{in:this.state.open},React.createElement(\"div\",{className:classes.card},React.createElement(\"div\",{className:classes.title},\"Login\"),React.createElement(\"form\",{encType:\"multipart/form-data\"},React.createElement(TextField,{label:\"Email\",name:\"email\",required:true,value:this.props.title,margin:\"dense\",fullWidth:true,variant:\"outlined\",onChange:this.changeInput}),React.createElement(TextField,{label:\"Password\",name:\"password\",type:\"password\",required:true,margin:\"dense\",value:this.props.location,fullWidth:true,variant:\"outlined\",onChange:this.changeInput}),React.createElement(\"div\",{className:classes.buttons},React.createElement(Button,{content:'Login',click:this.submitForm}))))));}}]);return LoginModal;}(Component);export default LoginModal;","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/components/HomePage/LoginModal/LoginModal.js"],"names":["React","Component","Modal","Backdrop","Fade","classes","TextField","Button","signIn","LoginModal","props","openModal","setState","open","closeModal","changeInput","e","preventDefault","target","name","value","submitForm","state","email","alert","password","data","console","log","then","processLogin","userKind","catch","bind","prevProps","timeout","card","title","location","buttons"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport classes from './LoginModal.module.css';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '../../shared/Button/Button';\nimport { signIn } from '../../../services/UserService';\n\nclass LoginModal extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            open: props.open,\n            email: '',\n            password: '',\n        }\n\n        this.closeModal = this.closeModal.bind(this);\n        this.changeInput = this.changeInput.bind(this);\n        this.submitForm = this.submitForm.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.open !== prevProps.open) {\n            this.setState({ open: this.props.open });\n        }\n    }\n\n    openModal = () => {\n        this.setState({ open: true });\n    }\n\n    closeModal = () => {\n        this.setState({ open: false });\n    }\n\n    changeInput = (e) => {\n        e.preventDefault();\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    submitForm = async () => {\n        if (!this.state.email) {\n            alert(`Please fill out your email.`);\n        } else if (!this.state.password) {\n            alert(`Please fill out your password.`);\n        } else {\n            const data = {\n                email: this.state.email,\n                password: this.state.password,\n            }\n            console.log(data)\n            signIn(data)\n                .then(data => {\n                    this.props.processLogin(data.userKind);\n                })\n                .catch(e => {\n                    console.log(e);\n                    alert('You cannot be logged in at this time.')\n                })\n        }\n    }\n\n    render() {\n        return (\n            <Modal className={classes.Modal}\n                open={this.state.open}\n                onClose={this.closeModal}\n                BackdropComponent={Backdrop}\n                BackdropProps={{ timeout: 200 }}>\n                <Fade in={this.state.open}>\n                    <div className={classes.card}>\n                        <div className={classes.title}>Login</div>\n                        <form encType=\"multipart/form-data\">\n                            <TextField label=\"Email\"\n                                name=\"email\"\n                                required\n                                value={this.props.title}\n                                margin=\"dense\"\n                                fullWidth\n                                variant=\"outlined\"\n                                onChange={this.changeInput} />\n                            <TextField label=\"Password\"\n                                name=\"password\"\n                                type=\"password\"\n                                required\n                                margin=\"dense\"\n                                value={this.props.location}\n                                fullWidth\n                                variant=\"outlined\"\n                                onChange={this.changeInput} />\n\n                            <div className={classes.buttons}>\n                                <Button content={'Login'} click={this.submitForm} />\n                            </div>\n                        </form>\n                    </div>\n                </Fade>\n            </Modal>\n        )\n    }\n}\n\nexport default LoginModal;\n"]},"metadata":{},"sourceType":"module"}