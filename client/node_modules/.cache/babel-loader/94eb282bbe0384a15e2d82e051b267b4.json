{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import App from'./App';import{Provider}from'react-redux';import store from'./redux/store';import{auth}from'./services/AxiosInstances';var appStore=store();var checkAuthentication=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var endpoint,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:endpoint=\"api/user/authenticate\";_context.prev=1;_context.next=4;return auth.post(endpoint);case 4:response=_context.sent;localStorage.setItem('userKind',response.data.userKind);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);localStorage.removeItem('userKind');appStore.dispatch({type:'LOGOUT'});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function checkAuthentication(){return _ref.apply(this,arguments);};}();checkAuthentication();var app=React.createElement(Provider,{store:appStore},React.createElement(App,null));ReactDOM.render(app,document.getElementById('root'));","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/index.js"],"names":["React","ReactDOM","App","Provider","store","auth","appStore","checkAuthentication","endpoint","post","response","localStorage","setItem","data","userKind","removeItem","dispatch","type","app","render","document","getElementById"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,OAASC,IAAT,KAAqB,2BAArB,CAEA,GAAMC,CAAAA,QAAQ,CAAGF,KAAK,EAAtB,CAEA,GAAMG,CAAAA,mBAAmB,0FAAG,yJAClBC,QADkB,+DAGGH,CAAAA,IAAI,CAACI,IAAL,CAAUD,QAAV,CAHH,QAGdE,QAHc,eAIpBC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCF,QAAQ,CAACG,IAAT,CAAcC,QAA/C,EAJoB,+EAMpBH,YAAY,CAACI,UAAb,CAAwB,UAAxB,EACAT,QAAQ,CAACU,QAAT,CAAkB,CAAEC,IAAI,CAAE,QAAR,CAAlB,EAPoB,oEAAH,kBAAnBV,CAAAA,mBAAmB,0CAAzB,CAUAA,mBAAmB,GAEnB,GAAMW,CAAAA,GAAG,CACL,oBAAC,QAAD,EAAU,KAAK,CAAEZ,QAAjB,EACI,oBAAC,GAAD,MADJ,CADJ,CAMAL,QAAQ,CAACkB,MAAT,CAAgBD,GAAhB,CAAqBE,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAArB","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { auth } from './services/AxiosInstances';\n\nconst appStore = store();\n\nconst checkAuthentication = async () => {\n    const endpoint = `api/user/authenticate`;\n    try {\n        const response = await auth.post(endpoint);\n        localStorage.setItem('userKind', response.data.userKind);\n    } catch (e) {\n        localStorage.removeItem('userKind');\n        appStore.dispatch({ type: 'LOGOUT' });\n    }\n}\ncheckAuthentication();\n\nconst app = (\n    <Provider store={appStore}>\n        <App />\n    </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}