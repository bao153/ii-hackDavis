{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport createHTMLMarker from './elements/createHTMLMarker';\nimport { registerEvents, createListenersPropTypes } from './utils';\nimport { GeolocHitPropType } from './propTypes';\nimport withGoogleMaps from './withGoogleMaps';\nvar eventTypes = {\n  onClick: 'click',\n  onDoubleClick: 'dblclick',\n  onMouseDown: 'mousedown',\n  onMouseEnter: 'mouseenter',\n  onMouseLeave: 'mouseleave',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup'\n};\nexport var CustomMarker = /*#__PURE__*/function (_Component) {\n  _inherits(CustomMarker, _Component);\n\n  function CustomMarker() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CustomMarker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CustomMarker)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      marker: null\n    });\n\n    return _this;\n  }\n\n  _createClass(CustomMarker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          hit = _this$props.hit,\n          google = _this$props.google,\n          googleMapsInstance = _this$props.googleMapsInstance,\n          className = _this$props.className,\n          anchor = _this$props.anchor; // Not the best way to create the reference of the CustomMarker\n      // but since the Google object is required didn't find another\n      // solution. Ideas?\n\n      var Marker = createHTMLMarker(google);\n      var marker = new Marker({\n        map: googleMapsInstance,\n        position: hit._geoloc,\n        className: className,\n        anchor: anchor\n      });\n      this.removeListeners = registerEvents(eventTypes, this.props, marker);\n      this.setState(function () {\n        return {\n          marker: marker\n        };\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var children = this.props.children;\n      var marker = this.state.marker;\n      this.removeListeners();\n      this.removeListeners = registerEvents(eventTypes, this.props, marker);\n\n      if (!CustomMarker.isReact16()) {\n        ReactDOM.unstable_renderSubtreeIntoContainer(this, children, marker.element);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var marker = this.state.marker;\n\n      if (!CustomMarker.isReact16()) {\n        ReactDOM.unmountComponentAtNode(marker.element);\n      }\n\n      marker.setMap(null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var marker = this.state.marker;\n\n      if (!marker || !CustomMarker.isReact16()) {\n        return null;\n      }\n\n      return ReactDOM.createPortal(children, marker.element);\n    }\n  }], [{\n    key: \"isReact16\",\n    value: function isReact16() {\n      return typeof ReactDOM.createPortal === 'function';\n    }\n  }]);\n\n  return CustomMarker;\n}(Component);\n\n_defineProperty(CustomMarker, \"propTypes\", _objectSpread({}, createListenersPropTypes(eventTypes), {\n  hit: GeolocHitPropType.isRequired,\n  children: PropTypes.node.isRequired,\n  google: PropTypes.object.isRequired,\n  googleMapsInstance: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  anchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })\n}));\n\n_defineProperty(CustomMarker, \"defaultProps\", {\n  className: '',\n  anchor: {\n    x: 0,\n    y: 0\n  }\n});\n\nexport default withGoogleMaps(CustomMarker);","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/node_modules/react-instantsearch-dom-maps/dist/es/CustomMarker.js"],"names":["_objectSpread","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_defineProperty","Component","ReactDOM","PropTypes","createHTMLMarker","registerEvents","createListenersPropTypes","GeolocHitPropType","withGoogleMaps","eventTypes","onClick","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","CustomMarker","_Component","_getPrototypeOf2","_this","_len","arguments","length","args","Array","_key","call","apply","concat","marker","key","value","componentDidMount","_this$props","props","hit","google","googleMapsInstance","className","anchor","Marker","map","position","_geoloc","removeListeners","setState","componentDidUpdate","children","state","isReact16","unstable_renderSubtreeIntoContainer","element","componentWillUnmount","unmountComponentAtNode","setMap","render","createPortal","isRequired","node","object","string","shape","x","number","y"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport createHTMLMarker from './elements/createHTMLMarker';\nimport { registerEvents, createListenersPropTypes } from './utils';\nimport { GeolocHitPropType } from './propTypes';\nimport withGoogleMaps from './withGoogleMaps';\nvar eventTypes = {\n  onClick: 'click',\n  onDoubleClick: 'dblclick',\n  onMouseDown: 'mousedown',\n  onMouseEnter: 'mouseenter',\n  onMouseLeave: 'mouseleave',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup'\n};\nexport var CustomMarker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CustomMarker, _Component);\n\n  function CustomMarker() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CustomMarker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CustomMarker)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      marker: null\n    });\n\n    return _this;\n  }\n\n  _createClass(CustomMarker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          hit = _this$props.hit,\n          google = _this$props.google,\n          googleMapsInstance = _this$props.googleMapsInstance,\n          className = _this$props.className,\n          anchor = _this$props.anchor; // Not the best way to create the reference of the CustomMarker\n      // but since the Google object is required didn't find another\n      // solution. Ideas?\n\n      var Marker = createHTMLMarker(google);\n      var marker = new Marker({\n        map: googleMapsInstance,\n        position: hit._geoloc,\n        className: className,\n        anchor: anchor\n      });\n      this.removeListeners = registerEvents(eventTypes, this.props, marker);\n      this.setState(function () {\n        return {\n          marker: marker\n        };\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var children = this.props.children;\n      var marker = this.state.marker;\n      this.removeListeners();\n      this.removeListeners = registerEvents(eventTypes, this.props, marker);\n\n      if (!CustomMarker.isReact16()) {\n        ReactDOM.unstable_renderSubtreeIntoContainer(this, children, marker.element);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var marker = this.state.marker;\n\n      if (!CustomMarker.isReact16()) {\n        ReactDOM.unmountComponentAtNode(marker.element);\n      }\n\n      marker.setMap(null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var marker = this.state.marker;\n\n      if (!marker || !CustomMarker.isReact16()) {\n        return null;\n      }\n\n      return ReactDOM.createPortal(children, marker.element);\n    }\n  }], [{\n    key: \"isReact16\",\n    value: function isReact16() {\n      return typeof ReactDOM.createPortal === 'function';\n    }\n  }]);\n\n  return CustomMarker;\n}(Component);\n\n_defineProperty(CustomMarker, \"propTypes\", _objectSpread({}, createListenersPropTypes(eventTypes), {\n  hit: GeolocHitPropType.isRequired,\n  children: PropTypes.node.isRequired,\n  google: PropTypes.object.isRequired,\n  googleMapsInstance: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  anchor: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })\n}));\n\n_defineProperty(CustomMarker, \"defaultProps\", {\n  className: '',\n  anchor: {\n    x: 0,\n    y: 0\n  }\n});\n\nexport default withGoogleMaps(CustomMarker);"]},"metadata":{},"sourceType":"module"}