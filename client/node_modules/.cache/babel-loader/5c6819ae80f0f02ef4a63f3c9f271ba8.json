{"ast":null,"code":"import _classCallCheck from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import Rating from'@material-ui/lab/Rating';import classes from'./ReviewModal.module.css';import Button from'../../shared/Button/Button';import{submitReview}from'../../../services/InterpreterService';var ReviewModal=/*#__PURE__*/function(_Component){_inherits(ReviewModal,_Component);function ReviewModal(props){var _this;_classCallCheck(this,ReviewModal);_this=_possibleConstructorReturn(this,_getPrototypeOf(ReviewModal).call(this));_this.openModal=function(){_this.setState({open:true});};_this.closeModal=function(){_this.setState({open:false});};_this.writeReview=function(){_this.openModal();};_this.postReview=function(){if(!_this.state.rating){alert(\"Please rate \".concat(_this.props.name,\" before posting.\"));}else if(_this.state.comment===''){alert(\"Please fill out your comment for \".concat(_this.props.name,\" before posting.\"));}else{var data={name:_this.state.reviewerName,rating:_this.state.rating,comment:_this.state.comment};submitReview(_this.state.id,data).then(function(data){_this.props.reloadDetails();_this.closeModal();}).catch(function(e){alert(\"Your review cannot be posted at this time.\");_this.closeModal();console.log(e);});}};_this.state={open:false,id:props.id,userName:props.reviewerName,rating:0,comment:''};_this.writeReview=_this.writeReview.bind(_assertThisInitialized(_this));return _this;}_createClass(ReviewModal,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(Button,{content:'Leave a Review',click:this.writeReview}),React.createElement(Modal,{className:classes.Modal,open:this.state.open,onClose:this.closeModal,BackdropComponent:Backdrop,BackdropProps:{timeout:200}},React.createElement(Fade,{in:this.state.open},React.createElement(\"div\",{className:classes.reviewEditor},React.createElement(\"div\",{className:classes.title},\"Review for \",this.props.name),React.createElement(Rating,{name:\"simple-controlled\",value:this.state.rating,onChange:function onChange(event,newValue){_this2.setState({rating:newValue});}}),React.createElement(\"textarea\",{className:classes.comment,onChange:function onChange(e){_this2.setState({comment:e.target.value});}}),React.createElement(\"div\",{className:classes.buttons},React.createElement(Button,{content:'Post',click:this.postReview}))))));}}]);return ReviewModal;}(Component);export default ReviewModal;","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/components/SearchPage/ReviewModal/ReviewModal.js"],"names":["React","Component","Modal","Backdrop","Fade","Rating","classes","Button","submitReview","ReviewModal","props","openModal","setState","open","closeModal","writeReview","postReview","state","rating","alert","name","comment","data","reviewerName","id","then","reloadDetails","catch","e","console","log","userName","bind","timeout","reviewEditor","title","event","newValue","target","value","buttons"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Rating from '@material-ui/lab/Rating';\nimport classes from './ReviewModal.module.css';\n\nimport Button from '../../shared/Button/Button';\n\nimport { submitReview } from '../../../services/InterpreterService';\n\nclass ReviewModal extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            open: false,\n            id: props.id,\n            userName: props.reviewerName,\n            rating: 0,\n            comment: ''\n        }\n\n        this.writeReview = this.writeReview.bind(this);\n    }\n\n    openModal = () => {\n        this.setState({ open: true });\n    }\n\n    closeModal = () => {\n        this.setState({ open: false });\n    }\n\n    writeReview = () => {\n        this.openModal();\n    }\n\n    postReview = () => {\n        if (!this.state.rating) {\n            alert(`Please rate ${this.props.name} before posting.`);\n        } else if (this.state.comment === '') {\n            alert(`Please fill out your comment for ${this.props.name} before posting.`);\n        } else {\n            const data = {\n                name: this.state.reviewerName,\n                rating: this.state.rating,\n                comment: this.state.comment\n            }\n            submitReview(this.state.id, data)\n                .then(data => {\n                    this.props.reloadDetails();\n                    this.closeModal();\n                })\n                .catch(e => {\n                    alert(\"Your review cannot be posted at this time.\");\n                    this.closeModal();\n                    console.log(e)\n                });\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <Button content={'Leave a Review'} click={this.writeReview} />\n\n                <Modal className={classes.Modal}\n                    open={this.state.open}\n                    onClose={this.closeModal}\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{ timeout: 200 }}>\n                    <Fade in={this.state.open}>\n                        <div className={classes.reviewEditor}>\n                            <div className={classes.title}>Review for {this.props.name}</div>\n                            <Rating name='simple-controlled' value={this.state.rating} onChange={(event, newValue) => { this.setState({ rating: newValue }) }} />\n                            <textarea className={classes.comment} onChange={e => { this.setState({ comment: e.target.value }) }} />\n                            <div className={classes.buttons}>\n                                <Button content={'Post'} click={this.postReview} />\n                            </div>\n                        </div>\n                    </Fade>\n                </Modal>\n            </>\n        )\n    }\n}\n\nexport default ReviewModal;\n"]},"metadata":{},"sourceType":"module"}