{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{connect}from'react-redux';import{withRouter}from'react-router-dom';import classes from\"./NavBar.module.css\";import{signOut}from'../../services/UserService';import Button from'../../components/shared/Button/Button';import LoginModal from'../../components/HomePage/LoginModal/LoginModal';var NavBar=/*#__PURE__*/function(_Component){_inherits(NavBar,_Component);function NavBar(props){var _this;_classCallCheck(this,NavBar);_this=_possibleConstructorReturn(this,_getPrototypeOf(NavBar).call(this));_this.switchModalStatus=function(){var status=_this.state.modalStatus;_this.setState({modalStatus:!status});};_this.processLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userKind){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.login();_this.switchModalStatus();if(_this.state.userKind==='Admin'){_this.props.history.push('/admin');}else{_this.props.history.push('/profile');}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.processLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signOut();case 2:_this.props.logout();_this.props.history.push('/');case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={modalStatus:false,userKind:props.userKind,isLoggedIn:props.isLoggedIn};_this.switchModalStatus=_this.switchModalStatus.bind(_assertThisInitialized(_this));_this.processLogin=_this.processLogin.bind(_assertThisInitialized(_this));_this.processLogout=_this.processLogout.bind(_assertThisInitialized(_this));return _this;}_createClass(NavBar,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.userKind!==prevProps.userKind){var isLoggedIn=this.props.userKind!=='Visitor'?true:false;this.setState({userKind:this.props.userKind,isLoggedIn:isLoggedIn});}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:classes.NavBar},React.createElement(Link,{className:classes.logo,to:\"/\"},\"Logo\"),React.createElement(\"div\",{className:classes.items},React.createElement(Link,{className:classes.item,to:\"/about\"},\"About\"),this.state.userKind==='Admin'?React.createElement(Link,{className:classes.item,to:\"/admin\"},\"Admin\"):null,this.state.userKind==='Client'?React.createElement(Link,{className:classes.item,to:\"/profile\"},\"Profile\"):null,React.createElement(Link,{className:classes.item,to:\"/search\"},\"Search\"),React.createElement(\"div\",{className:classes.button},!this.state.isLoggedIn?React.createElement(Button,{content:\"Login\",click:this.switchModalStatus}):React.createElement(Button,{content:\"Logout\",inverted:true,click:this.processLogout}))),React.createElement(LoginModal,{open:this.state.modalStatus,isLoggedOut:!this.state.isLoggedIn,processLogin:this.processLogin}));}}]);return NavBar;}(Component);var mapStateToProps=function mapStateToProps(state){return{userKind:state.userKind,isLoggedIn:state.isLoggedIn};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(){return dispatch({type:'LOGIN'});},logout:function logout(){return dispatch({type:'LOGOUT'});}};};export default connect(mapStateToProps,mapDispatchToProps)(withRouter(NavBar));","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/layout/NavBar/NavBar.js"],"names":["React","Component","Link","connect","withRouter","classes","signOut","Button","LoginModal","NavBar","props","switchModalStatus","status","state","modalStatus","setState","processLogin","userKind","login","history","push","processLogout","logout","isLoggedIn","bind","prevProps","logo","items","item","button","mapStateToProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport classes from \"./NavBar.module.css\";\nimport { signOut } from '../../services/UserService';\n\nimport Button from '../../components/shared/Button/Button';\nimport LoginModal from '../../components/HomePage/LoginModal/LoginModal';\n\nclass NavBar extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            modalStatus: false,\n            userKind: props.userKind,\n            isLoggedIn: props.isLoggedIn,\n        }\n\n        this.switchModalStatus = this.switchModalStatus.bind(this);\n        this.processLogin = this.processLogin.bind(this);\n        this.processLogout = this.processLogout.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.userKind !== prevProps.userKind) {\n            const isLoggedIn = (this.props.userKind !== 'Visitor') ? true : false;\n            this.setState({\n                userKind: this.props.userKind,\n                isLoggedIn: isLoggedIn\n            })\n        }\n    }\n\n    switchModalStatus = () => {\n        const status = this.state.modalStatus;\n        this.setState({\n            modalStatus: !status\n        });\n    }\n\n    processLogin = async (userKind) => {\n        this.props.login();\n        this.switchModalStatus();\n        if (this.state.userKind === 'Admin') {\n            this.props.history.push('/admin');\n        } else {\n            this.props.history.push('/profile');\n        }\n    }\n\n    processLogout = async () => {\n        await signOut()\n        this.props.logout();\n        this.props.history.push('/');\n    }\n\n    render() {\n        return (\n            <div className={classes.NavBar}>\n                <Link className={classes.logo} to={\"/\"}>Logo</Link>\n                <div className={classes.items}>\n                    <Link className={classes.item} to={\"/about\"}>About</Link>\n                    {this.state.userKind === 'Admin' ? <Link className={classes.item} to={\"/admin\"}>Admin</Link> : null}\n                    {this.state.userKind === 'Client' ? <Link className={classes.item} to={\"/profile\"}>Profile</Link> : null}\n                    <Link className={classes.item} to={\"/search\"}>Search</Link>\n\n                    <div className={classes.button}>\n                        {!this.state.isLoggedIn ? <Button content='Login' click={this.switchModalStatus} />\n                            : <Button content='Logout' inverted click={this.processLogout} />}\n                    </div>\n                </div>\n                <LoginModal open={this.state.modalStatus} isLoggedOut={!this.state.isLoggedIn} processLogin={this.processLogin} />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    userKind: state.userKind,\n    isLoggedIn: state.isLoggedIn\n});\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        login: () => dispatch({ type: 'LOGIN' }),\n        logout: () => dispatch({ type: 'LOGOUT' })\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(NavBar));\n"]},"metadata":{},"sourceType":"module"}