{"ast":null,"code":"var _jsxFileName = \"/Users/michellehu/ii-react/client/src/components/SearchPage/ReviewModal/ReviewModal.js\";\nimport React, { Component } from 'react';\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Rating from '@material-ui/lab/Rating';\nimport classes from './ReviewModal.module.css';\nimport Button from '../../shared/Button/Button';\nimport { submitReview } from '../../../services/InterpreterService';\n\nclass ReviewModal extends Component {\n  constructor(props) {\n    super();\n\n    this.openModal = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.writeReview = () => {\n      this.openModal();\n    };\n\n    this.postReview = () => {\n      if (!this.state.rating) {\n        alert(`Please rate ${this.props.name} before posting.`);\n      } else if (this.state.comment === '') {\n        alert(`Please fill out your comment for ${this.props.name} before posting.`);\n      } else {\n        const data = {\n          name: this.state.userName,\n          rating: this.state.rating,\n          comment: this.state.comment\n        };\n        submitReview(this.state.id, data).then(data => {\n          this.props.reloadDetails();\n          this.closeModal();\n        }).catch(e => {\n          alert(\"Your review cannot be posted at this time.\");\n          this.closeModal();\n          console.log(e);\n        });\n      }\n    };\n\n    this.state = {\n      open: false,\n      id: props.id,\n      userName: props.userName,\n      rating: 0,\n      comment: ''\n    };\n    this.writeReview = this.writeReview.bind(this);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Button, {\n      content: 'Leave a Review',\n      click: this.writeReview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      className: classes.Modal,\n      open: this.state.open,\n      onClose: this.closeModal,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Fade, {\n      in: this.state.open,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.reviewEditor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Review for \", this.props.name), React.createElement(Rating, {\n      name: \"simple-controlled\",\n      value: this.state.rating,\n      onChange: (event, newValue) => {\n        this.setState({\n          rating: newValue\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      className: classes.comment,\n      onChange: e => {\n        this.setState({\n          comment: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.buttons,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Button, {\n      content: 'Post',\n      click: this.postReview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default ReviewModal;","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/components/SearchPage/ReviewModal/ReviewModal.js"],"names":["React","Component","Modal","Backdrop","Fade","Rating","classes","Button","submitReview","ReviewModal","constructor","props","openModal","setState","open","closeModal","writeReview","postReview","state","rating","alert","name","comment","data","userName","id","then","reloadDetails","catch","e","console","log","bind","render","timeout","reviewEditor","title","event","newValue","target","value","buttons"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAEA,OAAOC,MAAP,MAAmB,4BAAnB;AAEA,SAASC,YAAT,QAA6B,sCAA7B;;AAEA,MAAMC,WAAN,SAA0BR,SAA1B,CAAoC;AAChCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf;;AADe,SAanBC,SAbmB,GAaP,MAAM;AACd,WAAKC,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAd;AACH,KAfkB;;AAAA,SAiBnBC,UAjBmB,GAiBN,MAAM;AACf,WAAKF,QAAL,CAAc;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAd;AACH,KAnBkB;;AAAA,SAqBnBE,WArBmB,GAqBL,MAAM;AAChB,WAAKJ,SAAL;AACH,KAvBkB;;AAAA,SAyBnBK,UAzBmB,GAyBN,MAAM;AACf,UAAI,CAAC,KAAKC,KAAL,CAAWC,MAAhB,EAAwB;AACpBC,QAAAA,KAAK,CAAE,eAAc,KAAKT,KAAL,CAAWU,IAAK,kBAAhC,CAAL;AACH,OAFD,MAEO,IAAI,KAAKH,KAAL,CAAWI,OAAX,KAAuB,EAA3B,EAA+B;AAClCF,QAAAA,KAAK,CAAE,oCAAmC,KAAKT,KAAL,CAAWU,IAAK,kBAArD,CAAL;AACH,OAFM,MAEA;AACH,cAAME,IAAI,GAAG;AACTF,UAAAA,IAAI,EAAE,KAAKH,KAAL,CAAWM,QADR;AAETL,UAAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,MAFV;AAGTG,UAAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWI;AAHX,SAAb;AAKAd,QAAAA,YAAY,CAAC,KAAKU,KAAL,CAAWO,EAAZ,EAAgBF,IAAhB,CAAZ,CACKG,IADL,CACUH,IAAI,IAAI;AACV,eAAKZ,KAAL,CAAWgB,aAAX;AACA,eAAKZ,UAAL;AACH,SAJL,EAKKa,KALL,CAKWC,CAAC,IAAI;AACRT,UAAAA,KAAK,CAAC,4CAAD,CAAL;AACA,eAAKL,UAAL;AACAe,UAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,SATL;AAUH;AACJ,KA/CkB;;AAEf,SAAKX,KAAL,GAAa;AACTJ,MAAAA,IAAI,EAAE,KADG;AAETW,MAAAA,EAAE,EAAEd,KAAK,CAACc,EAFD;AAGTD,MAAAA,QAAQ,EAAEb,KAAK,CAACa,QAHP;AAITL,MAAAA,MAAM,EAAE,CAJC;AAKTG,MAAAA,OAAO,EAAE;AALA,KAAb;AAQA,SAAKN,WAAL,GAAmB,KAAKA,WAAL,CAAiBgB,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAsCDC,EAAAA,MAAM,GAAG;AACL,WACI,0CACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,gBAAjB;AAAmC,MAAA,KAAK,EAAE,KAAKjB,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEV,OAAO,CAACJ,KAA1B;AACI,MAAA,IAAI,EAAE,KAAKgB,KAAL,CAAWJ,IADrB;AAEI,MAAA,OAAO,EAAE,KAAKC,UAFlB;AAGI,MAAA,iBAAiB,EAAEZ,QAHvB;AAII,MAAA,aAAa,EAAE;AAAE+B,QAAAA,OAAO,EAAE;AAAX,OAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,KAAKhB,KAAL,CAAWJ,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAER,OAAO,CAAC6B,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAE7B,OAAO,CAAC8B,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2C,KAAKzB,KAAL,CAAWU,IAAtD,CADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,mBAAb;AAAiC,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,MAAnD;AAA2D,MAAA,QAAQ,EAAE,CAACkB,KAAD,EAAQC,QAAR,KAAqB;AAAE,aAAKzB,QAAL,CAAc;AAAEM,UAAAA,MAAM,EAAEmB;AAAV,SAAd;AAAqC,OAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAU,MAAA,SAAS,EAAEhC,OAAO,CAACgB,OAA7B;AAAsC,MAAA,QAAQ,EAAEO,CAAC,IAAI;AAAE,aAAKhB,QAAL,CAAc;AAAES,UAAAA,OAAO,EAAEO,CAAC,CAACU,MAAF,CAASC;AAApB,SAAd;AAA4C,OAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAK,MAAA,SAAS,EAAElC,OAAO,CAACmC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAjB;AAAyB,MAAA,KAAK,EAAE,KAAKxB,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ,CALJ,CAHJ,CADJ;AAsBH;;AAzE+B;;AA4EpC,eAAeR,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Rating from '@material-ui/lab/Rating';\nimport classes from './ReviewModal.module.css';\n\nimport Button from '../../shared/Button/Button';\n\nimport { submitReview } from '../../../services/InterpreterService';\n\nclass ReviewModal extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            open: false,\n            id: props.id,\n            userName: props.userName,\n            rating: 0,\n            comment: ''\n        }\n\n        this.writeReview = this.writeReview.bind(this);\n    }\n\n    openModal = () => {\n        this.setState({ open: true });\n    }\n\n    closeModal = () => {\n        this.setState({ open: false });\n    }\n\n    writeReview = () => {\n        this.openModal();\n    }\n\n    postReview = () => {\n        if (!this.state.rating) {\n            alert(`Please rate ${this.props.name} before posting.`);\n        } else if (this.state.comment === '') {\n            alert(`Please fill out your comment for ${this.props.name} before posting.`);\n        } else {\n            const data = {\n                name: this.state.userName,\n                rating: this.state.rating,\n                comment: this.state.comment\n            }\n            submitReview(this.state.id, data)\n                .then(data => {\n                    this.props.reloadDetails();\n                    this.closeModal();\n                })\n                .catch(e => {\n                    alert(\"Your review cannot be posted at this time.\");\n                    this.closeModal();\n                    console.log(e)\n                });\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <Button content={'Leave a Review'} click={this.writeReview} />\n\n                <Modal className={classes.Modal}\n                    open={this.state.open}\n                    onClose={this.closeModal}\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{ timeout: 200 }}>\n                    <Fade in={this.state.open}>\n                        <div className={classes.reviewEditor}>\n                            <div className={classes.title}>Review for {this.props.name}</div>\n                            <Rating name='simple-controlled' value={this.state.rating} onChange={(event, newValue) => { this.setState({ rating: newValue }) }} />\n                            <textarea className={classes.comment} onChange={e => { this.setState({ comment: e.target.value }) }} />\n                            <div className={classes.buttons}>\n                                <Button content={'Post'} click={this.postReview} />\n                            </div>\n                        </div>\n                    </Fade>\n                </Modal>\n            </>\n        )\n    }\n}\n\nexport default ReviewModal;\n"]},"metadata":{},"sourceType":"module"}