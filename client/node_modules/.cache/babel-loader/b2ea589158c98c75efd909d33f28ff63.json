{"ast":null,"code":"import _classCallCheck from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michellehu/ii-react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import Grid from'@material-ui/core/Grid';import Rating from'@material-ui/lab/Rating';import classes from'./InterpreterInfoModal.module.css';import CertificationItem from'../CertificateItem/CertificateItem';import ReviewItem from'../ReviewItem/ReviewItem';import ReviewModal from'../../ReviewModal/ReviewModal';import{fetchRatingAndReviews}from'../../../../services/InterpreterService';var InterpreterInfoModal=/*#__PURE__*/function(_Component){_inherits(InterpreterInfoModal,_Component);function InterpreterInfoModal(props){var _this;_classCallCheck(this,InterpreterInfoModal);_this=_possibleConstructorReturn(this,_getPrototypeOf(InterpreterInfoModal).call(this));_this.openModal=function(){_this.setState({open:true});};_this.closeModal=function(){_this.setState({open:false});};_this.fetchDetails=function(){fetchRatingAndReviews(_this.state.id).then(function(data){_this.setState({rating:data.rating,certifications:data.certifications,reviews:data.reviews});}).catch(function(e){console.log(e);});};_this.expandDetails=function(){_this.openModal();if(!_this.state.rating){_this.fetchDetails();}};_this.reloadDetails=function(){_this.fetchDetails();};_this.state={open:false,id:props.id,name:props.name,rating:0,reviews:[],certifications:[]};_this.reloadDetails=_this.reloadDetails.bind(_assertThisInitialized(_this));return _this;}_createClass(InterpreterInfoModal,[{key:\"render\",value:function render(){var languages=this.props.languages.map(function(lang){return React.createElement(\"div\",{className:classes.language},lang.language,\": \",lang.fluency,\" \");});var reviews=this.state.reviews.length?this.state.reviews.map(function(review){return React.createElement(ReviewItem,{reviewerName:review.reviewerName,rating:review.rating,comment:review.comment,date:review.date});}):React.createElement(\"div\",{className:classes.noReviews},this.props.name,\" Has No Reviews Yet.\");var certifications=this.state.certifications.map(function(cert){return React.createElement(CertificationItem,{title:cert.title,image:cert.image,isValidated:cert.isValidated});});return React.createElement(\"div\",null,React.createElement(\"div\",{className:classes.moreInfo,onClick:this.expandDetails},\"more info\"),React.createElement(Modal,{className:classes.Modal,open:this.state.open,onClose:this.closeModal,BackdropComponent:Backdrop,BackdropProps:{timeout:200}},React.createElement(Fade,{in:this.state.open},React.createElement(\"div\",{className:classes.infoCard},React.createElement(Grid,{container:true,spacing:2,justify:\"center\"},React.createElement(Grid,{item:true,xs:5,sm:5},React.createElement(\"div\",{className:classes.avatar},React.createElement(\"img\",{src:this.props.avatar,width:\"100%\",alt:\"avatar-\".concat(this.props.id)}))),React.createElement(Grid,{item:true,xs:7,sm:7},React.createElement(\"div\",{className:classes.title},\"Your Interpreter\"),React.createElement(\"div\",{className:classes.name},this.props.name),React.createElement(\"div\",{className:classes.infoItem},React.createElement(Rating,{value:this.state.rating,readOnly:true})),React.createElement(\"div\",{className:classes.infoItem},React.createElement(\"div\",null,\"Email:\"),React.createElement(\"div\",null,this.props.email)),React.createElement(\"div\",{className:classes.infoItem},React.createElement(\"div\",null,\"Location:\"),React.createElement(\"div\",null,this.props.location)),React.createElement(\"div\",{className:classes.infoItem},React.createElement(\"div\",null,\"Languages:\",React.createElement(\"div\",null,languages))))),React.createElement(\"div\",{className:classes.horzLine}),React.createElement(Grid,{container:true,spacing:2,justify:\"center\"},React.createElement(Grid,{item:true,xs:6},React.createElement(\"div\",{className:classes.title},\"Certifications:\",React.createElement(\"div\",{className:classes.halfArea},certifications))),React.createElement(Grid,{item:true,xs:6},React.createElement(\"div\",{className:classes.title},\"Reviews:\",React.createElement(\"div\",{className:classes.halfArea},reviews)),React.createElement(\"div\",{className:classes.reviewOptions},React.createElement(ReviewModal,{id:this.state.id,name:this.state.name,userName:'Spicy Spice',reloadDetails:this.reloadDetails}))))))));}}]);return InterpreterInfoModal;}(Component);export default InterpreterInfoModal;","map":{"version":3,"sources":["/Users/michellehu/ii-react/client/src/components/SearchPage/InterpreterInfoModal/Modal/InterpreterInfoModal.js"],"names":["React","Component","Modal","Backdrop","Fade","Grid","Rating","classes","CertificationItem","ReviewItem","ReviewModal","fetchRatingAndReviews","InterpreterInfoModal","props","openModal","setState","open","closeModal","fetchDetails","state","id","then","data","rating","certifications","reviews","catch","e","console","log","expandDetails","reloadDetails","name","bind","languages","map","lang","language","fluency","length","review","reviewerName","comment","date","noReviews","cert","title","image","isValidated","moreInfo","timeout","infoCard","avatar","infoItem","email","location","horzLine","halfArea","reviewOptions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Grid from '@material-ui/core/Grid';\nimport Rating from '@material-ui/lab/Rating';\nimport classes from './InterpreterInfoModal.module.css';\n\nimport CertificationItem from '../CertificateItem/CertificateItem';\nimport ReviewItem from '../ReviewItem/ReviewItem';\nimport ReviewModal from '../../ReviewModal/ReviewModal';\n\nimport { fetchRatingAndReviews } from '../../../../services/InterpreterService';\n\nclass InterpreterInfoModal extends Component {\n    constructor(props) {\n        super();\n        this.state = {\n            open: false,\n            id: props.id,\n            name: props.name,\n            rating: 0,\n            reviews: [],\n            certifications: []\n        };\n\n        this.reloadDetails = this.reloadDetails.bind(this);\n    }\n\n    openModal = () => {\n        this.setState({ open: true });\n    }\n\n    closeModal = () => {\n        this.setState({ open: false });\n    }\n\n    fetchDetails = () => {\n        fetchRatingAndReviews(this.state.id)\n            .then(data => {\n                this.setState({\n                    rating: data.rating,\n                    certifications: data.certifications,\n                    reviews: data.reviews\n                })\n            })\n            .catch(e => {\n                console.log(e)\n            })\n    }\n\n    expandDetails = () => {\n        this.openModal();\n        if (!this.state.rating) {\n            this.fetchDetails();\n        }\n    }\n\n    reloadDetails = () => {\n        this.fetchDetails();\n    }\n\n    render() {\n        const languages = this.props.languages.map(lang => <div className={classes.language}>{lang.language}: {lang.fluency} </div>)\n        const reviews = (this.state.reviews.length) ?\n            this.state.reviews.map(review => <ReviewItem reviewerName={review.reviewerName} rating={review.rating} comment={review.comment} date={review.date} />)\n            : <div className={classes.noReviews}>{this.props.name} Has No Reviews Yet.</div>;\n        const certifications = this.state.certifications.map(cert => <CertificationItem title={cert.title} image={cert.image} isValidated={cert.isValidated} />)\n\n        return (\n            <div>\n                <div className={classes.moreInfo} onClick={this.expandDetails}>more info</div>\n\n                <Modal className={classes.Modal}\n                    open={this.state.open}\n                    onClose={this.closeModal}\n                    BackdropComponent={Backdrop}\n                    BackdropProps={{ timeout: 200 }}>\n                    <Fade in={this.state.open}>\n                        <div className={classes.infoCard}>\n                            <Grid container spacing={2} justify='center'>\n                                <Grid item xs={5} sm={5}>\n                                    <div className={classes.avatar}>\n                                        <img src={this.props.avatar} width='100%' alt={`avatar-${this.props.id}`} />\n                                    </div>\n                                </Grid>\n\n                                <Grid item xs={7} sm={7}>\n                                    <div className={classes.title}>Your Interpreter</div>\n                                    <div className={classes.name}>{this.props.name}</div>\n                                    <div className={classes.infoItem}>\n                                        <Rating value={this.state.rating} readOnly />\n                                    </div>\n                                    <div className={classes.infoItem}>\n                                        <div>Email:</div>\n                                        <div>{this.props.email}</div>\n                                    </div>\n                                    <div className={classes.infoItem}>\n                                        <div>Location:</div>\n                                        <div>{this.props.location}</div>\n                                    </div>\n                                    <div className={classes.infoItem}>\n                                        <div>Languages:\n                                        <div>{languages}</div>\n                                        </div>\n                                    </div>\n                                </Grid>\n                            </Grid>\n\n                            <div className={classes.horzLine} />\n\n                            <Grid container spacing={2} justify='center'>\n                                <Grid item xs={6}>\n                                    <div className={classes.title}>Certifications:\n                                        <div className={classes.halfArea}>{certifications}</div>\n                                    </div>\n                                </Grid>\n\n                                <Grid item xs={6}>\n                                    <div className={classes.title}>Reviews:\n                                        <div className={classes.halfArea}>{reviews}</div>\n                                    </div>\n\n                                    <div className={classes.reviewOptions}>\n                                        {/* change to user's name here */}\n                                        <ReviewModal id={this.state.id} name={this.state.name} userName={'Spicy Spice'} reloadDetails={this.reloadDetails} />\n                                    </div>\n                                </Grid>\n                            </Grid>\n                        </div>\n                    </Fade>\n                </Modal>\n            </div >\n        );\n    }\n}\n\nexport default InterpreterInfoModal;\n"]},"metadata":{},"sourceType":"module"}